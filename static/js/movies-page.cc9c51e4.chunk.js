"use strict";(self.webpackChunkuniversity_react_hw_05_movies=self.webpackChunkuniversity_react_hw_05_movies||[]).push([[376],{537:(e,t,a)=>{a.d(t,{A:()=>h});var o=a(216),n=a(475),s=a(575);const r="MoviesListItem_item__4rNsZ",i="MoviesListItem_itemDiv__YQ2G0",c="MoviesListItem_link__cb8vw";var l=a(579);const u=e=>{let{id:t,poster_path:a,original_title:u,name:d}=e;const h=(0,o.zy)();return(0,l.jsx)("li",{className:r,children:(0,l.jsx)(n.N_,{to:"/movies/".concat(t),state:h,className:c,children:(0,l.jsxs)("div",{className:i,children:[(0,l.jsx)("img",{src:(0,s.C)(a,"poster"),alt:u,width:"240px"}),(0,l.jsx)("p",{children:null!==u&&void 0!==u?u:d})]})})})},d="MoviesList_list__0Owr9",h=e=>{let{movies:t}=e;return(0,l.jsx)("ul",{className:d,children:t.map((e=>{let{id:t,original_title:a,name:o,poster_path:n}=e;return(0,l.jsx)(u,{id:t,poster_path:n,original_title:a,name:o},t)}))})}},420:(e,t,a)=>{a.d(t,{Jr:()=>s,Lu:()=>i,as:()=>l,lZ:()=>c,mb:()=>r});var o=a(154);const n="api_key=a2d8ca768997315cf3e5e389a09b25a7";async function s(){const{data:e}=await(0,o.A)("trending/movie/day?".concat(n));return e}async function r(e,t){const{data:a}=await(0,o.A)("search/movie?query=".concat(e,"&page=").concat(t,"&").concat(n,"&language=en-US&include_adult=false"));return a}async function i(e){let{movieId:t}=e;const{data:a}=await(0,o.A)("movie/".concat(t,"?").concat(n,"&language=en-US"));return a}async function c(e){let{movieId:t}=e;const{data:a}=await(0,o.A)("movie/".concat(t,"/credits?").concat(n,"&language=en-US"));return a}async function l(e){let{movieId:t}=e;const{data:a}=await(0,o.A)("movie/".concat(t,"/reviews?").concat(n,"&language=en-US&page=1"));return a}o.A.defaults.baseURL="https://api.themoviedb.org/3/"},657:(e,t,a)=>{a.d(t,{gJ:()=>r,gU:()=>s,um:()=>n});var o=a(401);const n=e=>o.oR.info(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"}),s=e=>o.oR.warning(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"}),r=e=>o.oR.error(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})},575:(e,t,a)=>{a.d(t,{C:()=>n});const o="https://image.tmdb.org/t/p/w500",n=(e,t)=>{switch(t){case"poster":return e?"".concat(o).concat(e):"https://cdn.pixabay.com/photo/2018/01/04/15/51/404-error-3060993_960_720.png";case"photo":return e?"".concat(o).concat(e):"https://t4.ftcdn.net/jpg/01/86/29/31/240_F_186293166_P4yk3uXQBDapbDFlR17ivpM6B1ux0fHG.jpg";default:return}}},201:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var o=a(43),n=a(475),s=a(657);const r={header:"MoviesSearch_header__weChz",form:"MoviesSearch_form__JG0bG",button:"MoviesSearch_button__1NvzC",input:"MoviesSearch_input__V0qlz"};var i=a(579);const c=e=>{let{onValueSubmit:t}=e;const[a,n]=(0,o.useState)("");return(0,i.jsx)("header",{className:r.header,children:(0,i.jsxs)("form",{className:r.form,onSubmit:e=>{e.preventDefault(),""===a.trim()?(0,s.gU)("Please, type something!"):t(a),n("")},children:[(0,i.jsx)("button",{type:"submit",className:r.button,children:(0,i.jsx)("span",{className:r.buttonLabel,children:"Search"})}),(0,i.jsx)("input",{className:r.input,type:"text",value:a,onChange:e=>{n(e.target.value.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})};var l=a(236),u=a(420),d=a(537);const h="LoadMoreButton_divButton__JLw0d",m="LoadMoreButton_button__uF51X",p=e=>{let{handleCLick:t}=e;return(0,i.jsx)("div",{className:h,children:(0,i.jsx)("button",{className:m,type:"button",onClick:t,children:"LoadMore"})})};var g=a(516);const _=()=>{const[e,t]=(0,n.ok)(),[a,r]=(0,o.useState)([]),[h,m]=(0,o.useState)(Number(e.get("page"))||1),[_,v]=(0,o.useState)(1),[b,f]=(0,o.useState)(!1),w=e.get("query");(0,o.useEffect)((()=>{if(!w)return;(async()=>{try{f(!0);const{results:e,total_pages:t}=await(0,u.mb)(w,h);if(0!==e.length)return r((t=>0!==t.length?[...t,...e]:e)),void v(t);(0,s.um)("Unfortunately, there are no movies with this name")}catch(e){(0,s.gJ)("Something went wrong: ".concat(e.message))}finally{f(!1)}})()}),[h,w]);return(0,i.jsxs)(g.A,{children:[(0,i.jsx)(c,{onValueSubmit:e=>{m(1),v(1),r([]),t({query:e,page:1})}}),a.length>0&&(0,i.jsx)(d.A,{movies:a}),h!==_&&(0,i.jsx)(p,{handleCLick:()=>{m((e=>e+1));const a=Object.fromEntries([...e]);t({...a,page:Number(h)+1})}}),b&&(0,i.jsx)(l.A,{})]})}}}]);
//# sourceMappingURL=movies-page.cc9c51e4.chunk.js.map